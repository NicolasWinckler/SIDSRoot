## time2root


### Structure of the code
The code consists of two sections:

* The engine **time2root**
* The visual part **visualizer**

This seperation allows for an automated processing of large amount of data e.g. by using a shell script over several directories without user interaction. The resulting files which contain already calculated spectra, can be viewed with the visualizer in a second step.

#### The engine

This code accepts time domain data with the format of IQT, TIQ and CSV files. The input filename should have the corresponding extentions. IQT files are created by the RSA3000 series of Tektronix spectrum analyzers, whereas TIQ files are generated by the RSA5000 and newer models. Time domain files in form of a CSV file are usually produced by most modern oscilloscopes e.g. the LeCroy WaveRunner. For other oscilloscopes please check the file name format.

Syntax:

	./time2root output_filename.root input_filename

The code creates following histograms and store them in a single binary ROOT file. 

Histogram | Description
-|-
h_iqt_time_mag | IQT time domain magnitude
h_iqt_time_phs | IQT time domain phase
h_iqt_mtpsd_fn | IQT multitaper estimation using FN implementation
h_iqt_mtpsd_xc | IQT multitaper estimation using XC implementation
h_iqt_fft | IQT standard FFT using XC implementation
h_tiq_time_mag | TIQ time domain magnitude
h_tiq_time_phs | TIQ Itime domain phase
h_tiq_mtpsd | TIQ multitaper estimation using XC implementation
h_tiq_fft | TIQ Standard FFT using XC implementation
h_csv_time_C1 | CSV file time domain data channel one
h_csv_time_C2 | CSV file time domain data channel two
h_csv_time_C3 | CSV file time domain data channel three
h_csv_time_C4 | CSV file time domain data channel four


By commenting out in the code, one can of course decide which one of these histograms should actually be written into the file. Proper error handling is provided at the command prompt.

#### The visualizer

This code is actually a ROOT CINT Macro which can either be run in the ROOT interactive session or be compiled. In the interactive session its functions can be used separately.

If compiled, it accepts the names of the histogram followed by the name of the rootfile and plots them on the screen. Proper error handling is provided at the command prompt.

Syntax:

	./visualizer histogram_name input_filename.root

or

	./visualizer stack input_filename.root
	
The former allows for individual plotting of the histograms, while the keyword **stack** in the latter  causes a plot of stacked histograms made of as many of the 4 CSV channels available.
